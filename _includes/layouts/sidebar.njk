<div class="sidebar_layout">

{% if (title == "hello") %}
    {% set phrase = phrases[0] %}
{% else %}
    {% set phrase = phrases | getRandom %}
{% endif %}

<div id="head">
    <a id="title" href="/">hair on the circuits</a>
    <a id="scroller">
        <marquee loop="infinite" behavior="scroll" direction="left">
            {{ phrase }}
        </marquee>
    </a>
</div>

<div id="subhead">
    <a id="subtitle">a blog by eduardo hdz - saucesaft</a>
</div>

<div id="menu">
    {% set n = 4 %}

    {% set navPagesLength = collections.all | eleventyNavigation(eleventyNavigation.key) | length %}

    {% set navPages = collections.all | eleventyNavigationBreadcrumb(eleventyNavigation.key, { includeSelf: true }) %}
    {%- for entry in navPages %}
        {% set highLoop = loop %}
        {# {% set navPagesLength = collections.all | eleventyNavigation(eleventyNavigation.key) | length %} #}
        {%- for entry in collections.all | eleventyNavigation(entry.parent) %}

            {% set lpix = loop.index0 %}
            {% if loop.index % n == 1%}

                <div class="breaking">
                  {%- for entry in collections.all | eleventyNavigation(entry.parent) %}
                    {% if (loop.index0 >= lpix) and (loop.index0 < (lpix+n)) %}
                        {% if entry.title != "home" %}
                            <div class="sidebar">
                                <a href="{{ entry.url | url }}"> {{ entry.title }}</a>                             
                            </div>                                
                        {% endif %}
                    {% endif %}
                  {%- endfor %}
                </div>

                {% if (loop.last == false or navPagesLength != 0) %}
                    <div class="sidebar divider">
                        <a class="divider">~</a>
                    </div>
                {% endif %}

            {% endif %}

        {%- endfor  %}
    {%- endfor %}

    {# {% set navPagesLength = collections.all | eleventyNavigation(eleventyNavigation.key) | length %} #}
    {% set navPages = collections.all | eleventyNavigation(eleventyNavigation.key) %}
    {%- for entry in navPages %}
        {% if loop.index % n == 1 %}
            {% set lpix = loop.index0 %}
            <div class="breaking">
            {%- for entry in navPages %}
                <div class="sidebar">
                {% if (loop.index0 >= lpix) and (loop.index0 < (lpix+n))  %}
                    <a href="{{ entry.url | url }}"> {{ entry.title }} </a>
                {% endif %}
                </div>
            {%- endfor %}
            </div>
        {% endif %}
    {%- endfor %}
</div>

</div>

{# <script type="text/javascript">
    function show_garden() {
        let g = document.getElementsByClassName('garden')[0];
            g.classList.add('in');
            g.classList.remove('out');

            g = document.body;
            g.classList.add('in');
            g.classList.remove('out');
    }

    function hide_garden() {
        let g = document.getElementsByClassName('garden')[0];
            g.classList.add('out');
            g.classList.remove('in');
            
            g = document.body;
            g.classList.add('out');
            g.classList.remove('in');
    }
</script> #}